# PromptModal 编辑页面 - 可视化原型

## 🎯 设计目标
**极简、专注、高效** - 让用户专注于核心内容，减少干扰

---

## 📐 完整布局原型

```
╔═══════════════════════════════════════════════════════════════════╗
║  [←]  代码重构专家                                    [×] 关闭      ║
╠═══════════════════════════════════════════════════════════════════╣
║                                                                   ║
║  ┌─────────────────────────────────────────────────────────────┐ ║
║  │ 核心信息                                                      │ ║
║  │                                                               │ ║
║  │  ┌──────────────────────┐  ┌──────────┐  ┌──────────┐      │ ║
║  │  │ 标题                 │  │ 类别 ▼   │  │ 状态 ▼   │      │ ║
║  │  │ [输入框 - 占2列]     │  │ [下拉]   │  │ [下拉]   │      │ ║
║  │  └──────────────────────┘  └──────────┘  └──────────┘      │ ║
║  │                                                               │ ║
║  │  ┌───────────────────────────────────────────────────────┐  │ ║
║  │  │ 描述 (可选)                                            │  │ ║
║  │  │ [单行输入框]                                           │  │ ║
║  │  └───────────────────────────────────────────────────────┘  │ ║
║  └─────────────────────────────────────────────────────────────┘ ║
║                                                                   ║
║  ┌─────────────────────────────────────────────────────────────┐ ║
║  │ 系统指令 (可选)                                    [优化]     │ ║
║  │ ┌─────────────────────────────────────────────────────────┐ │ ║
║  │ │                                                           │ │ ║
║  │ │  可选的系统角色定义...                                    │ │ ║
║  │ │  (默认折叠，有内容时展开)                                 │ │ ║
║  │ │                                                           │ │ ║
║  │ └─────────────────────────────────────────────────────────┘ │ ║
║  └─────────────────────────────────────────────────────────────┘ ║
║                                                                   ║
║  ┌─────────────────────────────────────────────────────────────┐ ║
║  │ 提示词内容 (主要编辑区)                          [Magic优化]   │ ║
║  │ ┌─────────────────────────────────────────────────────────┐ │ ║
║  │ │                                                           │ │ ║
║  │ │                                                           │ │ ║
║  │ │  在这里输入你的提示词...                                  │ │ ║
║  │ │  使用 {variable} 创建动态输入                              │ │ ║
║  │ │                                                           │ │ ║
║  │ │                                                           │ │ ║
║  │ │                                                           │ │ ║
║  │ │                                                           │ │ ║
║  │ │                                                           │ │ ║
║  │ │                                                           │ │ ║
║  │ │                                                           │ │ ║
║  │ │                                                           │ │ ║
║  │ │                                                           │ │ ║
║  │ │                                                           │ │ ║
║  │ └─────────────────────────────────────────────────────────┘ │ ║
║  │ 提示: 使用 {变量名} 创建动态输入  |  ~XXX tokens              │ ║
║  └─────────────────────────────────────────────────────────────┘ ║
║                                                                   ║
║  ┌─────────────────────────────────────────────────────────────┐ ║
║  │ 标签                                          [自动标记]       │ ║
║  │ ┌─────────────────────────────────────────────────────────┐ │ ║
║  │ │ [tag1] [tag2] [tag3] 输入标签并按 Enter...               │ │ ║
║  │ └─────────────────────────────────────────────────────────┘ │ ║
║  └─────────────────────────────────────────────────────────────┘ ║
║                                                                   ║
║  ┌─────────────────────────────────────────────────────────────┐ ║
║  │ ▶ 高级选项 (点击展开)                                          │ ║
║  │   双语提示词、元数据、技术标签、使用说明等...                │ ║
║  └─────────────────────────────────────────────────────────────┘ ║
║                                                                   ║
╠═══════════════════════════════════════════════════════════════════╣
║  [复制]                                    [取消]  [保存更改]      ║
╚═══════════════════════════════════════════════════════════════════╝
```

---

## 🎨 视觉层次说明

### 1️⃣ **核心信息区** (顶部，始终可见)
```
┌─────────────────────────────────────┐
│ 标题 [宽输入框]  |  类别  |  状态    │
│ 描述 [单行输入框]                    │
└─────────────────────────────────────┘
```
- **特点**：紧凑、清晰、一目了然
- **间距**：内部 16px，外部 24px
- **高度**：最小化，不占用过多空间

### 2️⃣ **系统指令** (可选，智能折叠)
```
┌─────────────────────────────────────┐
│ 系统指令                    [优化]   │
│ ┌─────────────────────────────────┐ │
│ │ 小尺寸文本区域 (h-32)            │ │
│ └─────────────────────────────────┘ │
└─────────────────────────────────────┘
```
- **默认状态**：如果为空，完全折叠
- **有内容时**：自动展开，小尺寸显示
- **视觉**：淡蓝色主题，不抢夺焦点

### 3️⃣ **提示词编辑区** (最大焦点)
```
┌─────────────────────────────────────┐
│ 提示词内容              [Magic优化] │
│ ┌─────────────────────────────────┐ │
│ │                                 │ │
│ │  大尺寸编辑区 (h-96 或更大)     │ │
│ │  等宽字体，易读                 │ │
│ │                                 │ │
│ │                                 │ │
│ └─────────────────────────────────┘ │
│ 提示信息 | Token 计数                │
└─────────────────────────────────────┘
```
- **占据空间**：最大，至少 400px 高度
- **视觉焦点**：品牌色边框，但不刺眼
- **交互**：清晰的占位符和提示

### 4️⃣ **标签区** (简洁)
```
┌─────────────────────────────────────┐
│ 标签                    [自动标记]   │
│ [tag] [tag] [tag] 输入...           │
└─────────────────────────────────────┘
```
- **单行显示**：紧凑，不占用垂直空间
- **自动完成**：下拉不遮挡内容

### 5️⃣ **高级选项** (默认隐藏)
```
┌─────────────────────────────────────┐
│ ▶ 高级选项 (点击展开)               │
└─────────────────────────────────────┘
```
- **完全隐藏**：默认不显示任何内容
- **按需展开**：用户需要时才显示
- **包含内容**：
  - 双语提示词 (英文/中文)
  - 输出类型、应用场景、适用模型
  - 技术标签、风格标签、自定义标签
  - 使用说明、注意事项
  - 预览媒体、来源信息

---

## 📏 尺寸规范

### 间距系统
```
区块间距: 24px (1.5rem)
内部间距: 16px (1rem)
输入框高度: 44px (统一，易于点击)
```

### 输入框尺寸
```
标题输入框: 高度 44px
描述输入框: 高度 44px
系统指令: 高度 128px (h-32)
提示词编辑: 高度 384px (h-96) 或更大
标签输入: 高度 60px (最小)
```

### 圆角
```
所有输入框: 12px (rounded-xl)
所有卡片: 16px (rounded-2xl)
```

---

## 🎨 颜色系统

### 背景色
```
主背景: gray-950/40 (subtle)
卡片背景: gray-900/60 (slightly lighter)
输入框背景: gray-950/70 (darker)
```

### 边框
```
默认边框: white/10 (1px, subtle)
焦点边框: brand-500/60 (2px, visible)
系统指令边框: blue-500/20 (subtle)
```

### 文字
```
标签文字: gray-400, 12px
输入文字: white, 16px
提示文字: gray-500, 12px
```

---

## 🔄 交互流程

### 新建提示词流程
```
1. 打开模态框
   ↓
2. 自动聚焦到"标题"输入框
   ↓
3. 用户输入标题
   ↓
4. 选择类别和状态 (可选)
   ↓
5. 输入描述 (可选)
   ↓
6. 系统指令自动折叠 (因为为空)
   ↓
7. 用户开始编辑提示词 (主要工作)
   ↓
8. 添加标签 (可选)
   ↓
9. 如需高级选项，点击展开
   ↓
10. 保存
```

### 编辑现有提示词流程
```
1. 打开模态框
   ↓
2. 所有字段自动填充
   ↓
3. 系统指令自动展开 (因为有内容)
   ↓
4. 用户修改需要的内容
   ↓
5. 保存
```

---

## 📱 响应式布局

### 移动端 (< 768px)
```
┌─────────────────────┐
│ 标题 [全宽]          │
│ 类别 [全宽]          │
│ 状态 [全宽]          │
│ 描述 [全宽]          │
│                     │
│ 系统指令 [全宽]      │
│                     │
│ 提示词 [全宽]        │
│                     │
│ 标签 [全宽]          │
│                     │
│ 高级选项 [全宽]      │
└─────────────────────┘
```

### 桌面端 (> 1024px)
```
┌─────────────────────────────────────┐
│ 标题 [2/3] 类别 [1/6] 状态 [1/6]    │
│ 描述 [全宽]                         │
│                                     │
│ 系统指令 [全宽]                     │
│                                     │
│ 提示词 [全宽]                       │
│                                     │
│ 标签 [全宽]                         │
│                                     │
│ 高级选项 [全宽]                      │
└─────────────────────────────────────┘
```

---

## ✨ 关键改进点

### 1. **减少视觉噪音**
- ❌ 移除过多的渐变背景
- ❌ 移除过多的阴影效果
- ❌ 移除过多的边框装饰
- ✅ 使用纯色或极淡渐变
- ✅ 使用细线边框
- ✅ 使用subtle阴影

### 2. **提高信息可读性**
- ✅ 更大的间距 (24px 区块间距)
- ✅ 统一的输入框高度 (44px)
- ✅ 清晰的标签文字 (12px, gray-400)
- ✅ 合理的字体大小 (16px 输入内容)

### 3. **优化填写流程**
- ✅ 核心字段优先显示
- ✅ 次要字段默认隐藏
- ✅ 智能折叠 (有内容展开，无内容折叠)
- ✅ 清晰的视觉层次

### 4. **减少滚动需求**
- ✅ 核心内容在一屏内可见
- ✅ 高级选项按需展开
- ✅ 垂直流式布局，减少横向滚动

---

## 🎯 设计原则

1. **极简主义** - 移除所有不必要的装饰
2. **渐进式披露** - 核心优先，次要隐藏
3. **一致性** - 统一的间距、圆角、颜色
4. **可访问性** - 足够的对比度、合适的字体大小
5. **效率优先** - 减少点击、减少滚动、减少思考

---

## 📊 对比分析

| 特性 | 当前设计 | 新设计 |
|------|---------|--------|
| **信息密度** | 高 (所有字段可见) | 低 (核心优先) |
| **视觉噪音** | 多 (渐变、阴影、边框) | 少 (极简) |
| **填写流程** | 混乱 | 清晰 (从上到下) |
| **滚动需求** | 多 | 少 (核心在一屏) |
| **认知负担** | 高 | 低 |
| **焦点** | 分散 | 集中 (提示词) |
| **间距** | 紧凑 | 充足 (24px) |
| **折叠机制** | 手动 | 智能 |

---

## 🚀 实施优先级

### P0 (必须)
- [ ] 垂直流式布局
- [ ] 核心信息区优化
- [ ] 提示词编辑区优化
- [ ] 智能折叠系统指令

### P1 (重要)
- [ ] 标签区优化
- [ ] 高级选项折叠
- [ ] 响应式布局

### P2 (优化)
- [ ] 微交互
- [ ] 动画效果
- [ ] 视觉 polish

---

## 💡 预期效果

实施后，用户将获得：
- ✅ **更快的填写速度** - 清晰的流程，减少思考
- ✅ **更好的体验** - 不疲劳，不混乱
- ✅ **更高的满意度** - 专业、现代、易用
- ✅ **更少的错误** - 清晰的提示和反馈

