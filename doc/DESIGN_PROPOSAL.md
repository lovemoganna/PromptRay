# PromptModal 编辑页面重构设计提案

## 当前问题分析

1. **信息密度过高** - 所有字段挤在一起，视觉疲劳
2. **缺乏焦点** - 核心编辑区域不够突出
3. **填写流程混乱** - 用户不知道从哪里开始
4. **视觉噪音** - 太多边框、渐变、阴影分散注意力

## 新设计方案

### 设计理念：**极简主义 + 渐进式披露**

采用"核心优先，次要隐藏"的策略，让用户专注于最重要的内容。

---

## 布局原型

```
┌─────────────────────────────────────────────────────────────────┐
│  [←] 代码重构专家                                    [×]         │
│  ────────────────────────────────────────────────────────────  │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐  │
│  │ 核心信息 (始终可见，紧凑布局)                              │  │
│  │ ┌──────────────┐ ┌──────────┐ ┌──────────┐              │  │
│  │ │ 标题         │ │ 类别 ▼   │ │ 状态 ▼   │              │  │
│  │ └──────────────┘ └──────────┘ └──────────┘              │  │
│  │ ┌─────────────────────────────────────────────────────┐  │  │
│  │ │ 描述 (单行，可选)                                    │  │  │
│  │ └─────────────────────────────────────────────────────┘  │  │
│  └─────────────────────────────────────────────────────────┘  │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐  │
│  │ 系统指令 (可选)                              [优化]      │  │
│  │ ┌─────────────────────────────────────────────────────┐  │  │
│  │ │                                                       │  │  │
│  │ │  可选的系统角色定义...                                │  │  │
│  │ │                                                       │  │  │
│  │ └─────────────────────────────────────────────────────┘  │  │
│  └─────────────────────────────────────────────────────────┘  │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐  │
│  │ 提示词内容 (主要编辑区)                    [Magic优化]   │  │
│  │ ┌─────────────────────────────────────────────────────┐  │  │
│  │ │                                                       │  │  │
│  │ │                                                       │  │  │
│  │ │  在这里输入你的提示词...                              │  │  │
│  │ │  使用 {variable} 创建变量                              │  │  │
│  │ │                                                       │  │  │
│  │ │                                                       │  │  │
│  │ │                                                       │  │  │
│  │ └─────────────────────────────────────────────────────┘  │  │
│  │ 提示: 使用 {变量名} 创建动态输入  |  ~XXX tokens          │  │
│  └─────────────────────────────────────────────────────────┘  │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐  │
│  │ 标签                                    [自动标记]        │  │
│  │ ┌─────────────────────────────────────────────────────┐  │  │
│  │ │ [tag1] [tag2] [tag3] 输入标签...                     │  │  │
│  │ └─────────────────────────────────────────────────────┘  │  │
│  └─────────────────────────────────────────────────────────┘  │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐  │
│  │ ▶ 高级选项 (点击展开)                                    │  │
│  └─────────────────────────────────────────────────────────┘  │
│                                                                 │
│  ────────────────────────────────────────────────────────────  │
│  [复制]                                    [取消]  [保存更改]   │
└─────────────────────────────────────────────────────────────────┘
```

---

## 设计要点

### 1. **垂直流式布局**
- 所有内容垂直排列，从上到下自然流动
- 每个区块独立，有清晰的视觉分隔
- 减少横向滚动，专注纵向浏览

### 2. **核心信息区（顶部固定）**
```
┌─────────────────────────────────────┐
│ 标题 [输入框]  |  类别 [下拉]  |  状态 [下拉] │
│ 描述 [单行输入框，可选]                │
└─────────────────────────────────────┘
```
- **紧凑但清晰**：一行显示标题、类别、状态
- **描述可选**：单行输入，不占用太多空间
- **始终可见**：不需要折叠

### 3. **系统指令（可选，可折叠）**
- 默认**折叠**（如果为空）
- 如果已有内容，则展开显示
- 小尺寸，不抢夺焦点

### 4. **提示词编辑区（最大焦点）**
- **占据最大空间**：高度至少 400px
- **最小视觉干扰**：纯色背景，细边框
- **清晰的占位符**：指导用户如何使用
- **实时反馈**：显示 token 数量

### 5. **标签区（简洁）**
- 单行显示，紧凑布局
- 自动完成下拉不遮挡内容

### 6. **高级选项（默认折叠）**
- 所有元数据、双语提示词、技术标签等
- 默认**完全隐藏**
- 点击展开，不干扰主要工作流

---

## 视觉设计规范

### 间距系统
- **区块间距**：24px (1.5rem)
- **内部间距**：16px (1rem)
- **输入框高度**：44px (统一高度，易于点击)

### 颜色系统
- **背景**：深色渐变，但更subtle
- **边框**：细线 (1px)，低对比度
- **焦点状态**：品牌色高亮，但不刺眼

### 字体大小
- **标签**：12px，小写，灰色
- **输入内容**：16px，易读
- **提示词编辑区**：15px，等宽字体

---

## 交互改进

### 1. **渐进式披露**
- 核心字段始终可见
- 次要字段默认隐藏
- 用户按需展开

### 2. **智能折叠**
- 系统指令：有内容时展开，无内容时折叠
- 高级选项：始终折叠，除非用户需要

### 3. **焦点管理**
- 自动聚焦到标题（新建时）
- Tab 键顺序合理
- 保存按钮始终可见（固定在底部）

---

## 响应式设计

### 移动端 (< 768px)
- 单列布局
- 标题、类别、状态垂直堆叠
- 提示词编辑区全宽
- 高级选项保持折叠

### 平板端 (768px - 1024px)
- 标题占 2/3，类别和状态各占 1/3
- 其他保持单列

### 桌面端 (> 1024px)
- 最大宽度限制：1200px
- 居中显示
- 充足的留白

---

## 优势总结

### ✅ **减少认知负担**
- 一次只关注一个区块
- 清晰的视觉层次
- 减少决策疲劳

### ✅ **提高填写效率**
- 核心字段优先
- 次要信息不干扰
- 流畅的填写流程

### ✅ **更好的可读性**
- 充足的留白
- 合理的字体大小
- 清晰的对比度

### ✅ **更少的滚动**
- 核心内容在一屏内
- 高级选项按需展开
- 减少不必要的滚动

### ✅ **更现代的设计**
- 极简主义美学
- 清晰的视觉语言
- 一致的交互模式

---

## 实施建议

### 阶段1：核心布局重构
1. 实现垂直流式布局
2. 重构核心信息区
3. 优化提示词编辑区

### 阶段2：交互优化
1. 实现智能折叠
2. 优化焦点管理
3. 改善响应式体验

### 阶段3：视觉 polish
1. 统一间距系统
2. 优化颜色对比
3. 添加微交互

---

## 对比：旧设计 vs 新设计

| 维度 | 旧设计 | 新设计 |
|------|--------|--------|
| 信息密度 | 高（所有字段可见） | 低（核心优先） |
| 视觉噪音 | 多（渐变、阴影、边框） | 少（极简设计） |
| 填写流程 | 混乱（不知道从哪里开始） | 清晰（从上到下） |
| 滚动需求 | 多（需要大量滚动） | 少（核心在一屏） |
| 认知负担 | 高（太多选择） | 低（渐进式披露） |

---

## 下一步

请 Review 此设计方案，我们可以：
1. 讨论并调整设计细节
2. 确认后开始实施
3. 迭代优化用户体验

